{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./src/core/constants/default.js","webpack:///./src/core/constants/events.js","webpack:///./src/core/constants/status.js","webpack:///./src/core/constants/checkers.js","webpack:///./node_modules/@lppjunior/pattern-js/src/pattern/observer/Observer.js","webpack:///./node_modules/@lppjunior/pattern-js/src/pattern/observer/index.js","webpack:///./node_modules/@lppjunior/pattern-js/src/pattern/pipeline/Pipeline.js","webpack:///./src/core/Actions.js","webpack:///./src/core/Board.js","webpack:///./src/core/State.js","webpack:///./src/core/Minefield.js","webpack:///./src/main.js","webpack:///./src/bot/modules/boardMap.js","webpack:///./src/bot/modules/calculateNext.js","webpack:///./src/bot/constants.js","webpack:///./src/bot/bot.js","webpack:///./src/bot/main.js"],"names":["root","factory","exports","module","define","amd","a","i","window","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","GLOBALS","debug","makeLevel","amount","cols","rows","mines","DEFAULTS","EASY","MEDIUM","HARD","EVENTS","ALL","START","NEXT_TURN","FINISH","STATUS","LOSS","PLAYING","WIN","CHECKERS","EMPTY","FLAG","MINE","NUMBER_0","NUMBER_1","NUMBER_2","NUMBER_3","NUMBER_4","NUMBER_5","NUMBER_6","NUMBER_7","NUMBER_8","this","observer","event","callback","addEvent","push","data","forEach","undefined","updateValue","row","col","state","setValue","indexOf","set","openAll","board","map","_","__","open","batchMode","isFinish","getValue","expand","nextTurn","flag","lastValue","batch","payload","checker","type","parentRow","parentCol","options","mock","JSON","parse","length","match","makeBoard","makeMines","Array","fill","count","mine","getRandomMap","_mine","join","fillAround","rand","size","Math","floor","random","make","init","total","status","checked","updated","isWin","isLoss","fn","on","emit","getState","updateStatus","keys","Actions","action","getInstance","game","instance","addListener","start","x","y","reset","makeBoardMap","boardMap","addMap","around","calcAround","out","calculateNextList","addAvailableFlag","addAvailableOpen","addRandOpen","removeDuplication","filter","includes","itens","item","nextList","origin","emptyCheckers","j","SPEED","NONE","FAST","NORMAL","SLOW","PROCESS","BATCH","UNIT","speed","autoRun","stoped","timeout","clearTimeout","setTimeout","run","setState","calculate","result","checkers","process","concat","pop","bot","play","stop","setSpeed","setProcess","onFinish"],"mappings":"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","file":"minefield.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const GLOBALS = {\n  debug: false\n}\n\nconst makeLevel = amount => ({\n  cols: amount,\n  rows: amount,\n  mines: amount\n})\n\nexport const DEFAULTS = {\n  EASY: {\n    ...GLOBALS,\n    ...makeLevel(10)\n  },\n\n  MEDIUM: {\n    ...GLOBALS,\n    ...makeLevel(15)\n  },\n\n  HARD: {\n    ...GLOBALS,\n    ...makeLevel(30),\n    mines: 100\n  }\n}\n","export const EVENTS = {\n  ALL: 'all',\n  START: 'start',\n  NEXT_TURN: 'nextTurn',\n  FINISH: 'finish'\n}\n","export const STATUS = {\n  LOSS: 'LOSS',\n  PLAYING: 'PLAYING',\n  WIN: 'WIN'\n}\n","export const CHECKERS = {\n  EMPTY: '',\n  FLAG: 'F',\n  MINE: -1,\n  NUMBER_0: 0,\n  NUMBER_1: 1,\n  NUMBER_2: 2,\n  NUMBER_3: 3,\n  NUMBER_4: 4,\n  NUMBER_5: 5,\n  NUMBER_6: 6,\n  NUMBER_7: 7,\n  NUMBER_8: 8\n}\n","class Observer {\n  constructor () {\n    this.observer = []\n  }\n\n  on (event, callback) {\n    this.addEvent(event)\n    this.observer[event].push(callback)\n\n    return this\n  }\n\n  emit (event, data) {\n    this.addEvent(event)\n    this.observer[event].forEach(callback => callback(data))\n  }\n\n  addEvent (event) {\n    if (this.observer[event] === undefined) {\n      this.observer[event] = []\n    }\n  }\n}\n\nexport default Observer\n","import Observer from './Observer'\n\nexport default Observer\n","class Pipeline {\n  constructor () {\n    this.pipelines = []\n  }\n\n  pipe (callback) {\n    this.pipelines.push(callback)\n    return this\n  }\n\n  process (data) {\n    let result = data\n    return this.pipelines.map(fn => (result = fn(result))).pop()\n  }\n}\n\nexport default Pipeline\n","import { CHECKERS } from './constants'\n\nexport default {\n  updateValue: function (row, col, value) {\n    this.state.setValue(row, col, value)\n    this.state.get('updated').push({ row, col, value })\n\n    if ([CHECKERS.EMPTY, CHECKERS.FLAG, CHECKERS.MINE].indexOf(value) === -1) {\n      this.state.set('checked', this.state.get('checked') + 1)\n    }\n  },\n\n  openAll: function () {\n    const board = this.state.get('board')\n    board.map((_, row) => _.map((__, col) => {\n      board[row][col] = this.board[row][col]\n    }))\n\n    this.state.set('board', board)\n  },\n\n  open: function (row, col, batchMode = false) {\n    if (this.state.isFinish()) {\n      return\n    }\n\n    if (!batchMode) {\n      this.state.set('updated', [])\n    }\n\n    if (this.state.getValue(row, col) === CHECKERS.EMPTY) {\n      const value = this.board[row][col]\n\n      this.updateValue(row, col, value)\n\n      if (value === 0) {\n        this.expand(row, col)\n      }\n    }\n\n    if (!batchMode) this.nextTurn()\n  },\n\n  flag: function (row, col, batchMode = false) {\n    if (this.state.isFinish()) {\n      return\n    }\n\n    if (!batchMode) {\n      this.state.set('updated', [])\n    }\n\n    const lastValue = this.state.getValue(row, col)\n    if ([CHECKERS.FLAG, CHECKERS.EMPTY].indexOf(lastValue) > -1) {\n      this.updateValue(row, col, lastValue === CHECKERS.FLAG ? CHECKERS.EMPTY : CHECKERS.FLAG)\n    }\n\n    if (!batchMode) this.nextTurn()\n  },\n\n  batch: function (payload) {\n    this.state.set('updated', [])\n\n    payload.forEach(checker => {\n      this[(checker.type === CHECKERS.FLAG) ? 'flag' : 'open'](checker.row, checker.col, true)\n    })\n\n    this.nextTurn()\n  },\n\n  expand: function (parentRow, parentCol) {\n    for (let row = parentRow - 1; row <= parentRow + 1; row++) {\n      for (let col = parentCol - 1; col <= parentCol + 1; col++) {\n        if (this.board[row] !== undefined &&\n            this.board[row][col] !== undefined &&\n            this.board[row][col] >= CHECKERS.NUMBER_0 &&\n            this.board[row][col] <= CHECKERS.NUMBER_8 &&\n            this.state.get('board')[row][col] === CHECKERS.EMPTY) {\n          this.updateValue(row, col, this.board[row][col])\n\n          if (this.board[row][col] === CHECKERS.NUMBER_0) {\n            this.expand(row, col)\n          }\n        }\n      }\n    }\n  }\n}\n","import { CHECKERS } from './constants'\n\nclass Board {\n  constructor (options) {\n    this.options = options\n  }\n\n  make () {\n    if (this.options.mock) {\n      this.data = JSON.parse(this.options.mock)\n      this.options.rows = this.data.length\n      this.options.cols = this.data[0].length\n      this.options.mines = (this.options.mock.match(/-1/g)).length\n    } else {\n      this.makeBoard()\n      this.makeMines()\n    }\n\n    return this.data\n  }\n\n  makeBoard () {\n    this.data = Array(this.options.rows)\n      .fill(null)\n      .map(() => Array(this.options.cols)\n        .fill(null)\n        .map(() => 0)\n      )\n  }\n\n  makeMines () {\n    let count = 0\n    let mines = ''\n\n    do {\n      const mine = this.getRandomMap()\n      const _mine = `${mine.join(',')}|`\n\n      if (mines.indexOf(_mine) === -1) {\n        this.data[mine[0]][mine[1]] = CHECKERS.MINE\n        this.fillAround(mine)\n\n        mines += _mine\n        count++\n      }\n    } while (count < this.options.mines)\n  }\n\n  fillAround (mine) {\n    for (let row = mine[0] - 1; row <= mine[0] + 1; row++) {\n      for (let col = mine[1] - 1; col <= mine[1] + 1; col++) {\n        if (this.data[row] !== undefined &&\n          this.data[row][col] !== undefined &&\n          this.data[row][col] > CHECKERS.MINE) {\n          this.data[row][col]++\n        }\n      }\n    }\n  }\n\n  getRandomMap () {\n    const rand = (size) => Math.floor(Math.random() * size)\n\n    return [\n      rand(this.options.rows),\n      rand(this.options.cols)\n    ]\n  }\n}\n\nBoard.make = (options) => ((new Board(options)).make())\n\nexport default Board\n","import { STATUS } from './constants'\n\nclass State {\n  constructor (options, board) {\n    this.options = options\n    this.board = board\n\n    this.init()\n  }\n\n  init () {\n    this.state = {\n      rows: this.options.rows,\n      cols: this.options.cols,\n      total: this.options.cols * this.options.rows - this.options.mines,\n      status: STATUS.PLAYING,\n      checked: 0,\n      updated: [],\n      board: Array(this.options.rows)\n        .fill(null)\n        .map(() => Array(this.options.cols)\n          .fill(null)\n          .map(() => '')\n        )\n    }\n  }\n\n  get (key) {\n    return key ? this.state[key] : this.state\n  }\n\n  set (key, value) {\n    this.state[key] = value\n  }\n\n  getValue (row, col) {\n    return this.state.board[row][col]\n  }\n\n  setValue (row, col, value) {\n    this.state.board[row][col] = value\n  }\n\n  isWin () {\n    return this.get('status') === STATUS.WIN\n  }\n\n  isLoss () {\n    return this.get('status') === STATUS.LOSS\n  }\n\n  isFinish () {\n    return this.isWin() || this.isLoss()\n  }\n}\n\nexport default State\n","import { Observer } from '@lppjunior/pattern-js'\n\nimport Actions from './Actions'\nimport Board from './Board'\nimport State from './State'\nimport { EVENTS, STATUS, CHECKERS } from './constants'\n\nclass Minefield {\n  constructor (options) {\n    this.options = {\n      ...options\n    }\n\n    this.observer = new Observer()\n  }\n\n  addListener (event, fn) {\n    this.observer.on(event, fn)\n  }\n\n  emit (event) {\n    this.observer.emit(event, this.getState())\n    this.observer.emit(EVENTS.ALL, { event, state: this.getState() })\n  }\n\n  start () {\n    this.board = Board.make(this.options)\n    this.state = new State(this.options, this.board)\n\n    this.emit(EVENTS.START)\n\n    return this\n  }\n\n  getState () {\n    const data = this.state.get()\n\n    if (this.options.debug) {\n      data.debug = {\n        board: this.board\n      }\n    }\n\n    return data\n  }\n\n  nextTurn () {\n    this.updateStatus()\n\n    switch (this.state.get('status')) {\n      case STATUS.PLAYING:\n        this.emit(EVENTS.NEXT_TURN)\n        break\n      case STATUS.LOSS:\n      case STATUS.WIN:\n        this.openAll()\n        this.emit(EVENTS.FINISH)\n        break\n    }\n  }\n\n  updateStatus () {\n    if (this.state.get('updated').length === 0) return\n\n    this.state.set('status',\n      this.state.get('updated')[0].value === CHECKERS.MINE ? STATUS.LOSS\n        : this.state.get('checked') === this.state.get('total') ? STATUS.WIN\n          : STATUS.PLAYING\n    )\n  }\n}\n\nObject.keys(Actions).forEach(action => { Minefield.prototype[action] = Actions[action] })\n\nexport default Minefield\n","import * as CONFIG from './core/constants'\nimport { Minefield } from './core'\n\nexport function getInstance (options = CONFIG.DEFAULTS.MEDIUM) {\n  const game = new Minefield(options)\n\n  const instance = {\n    addListener: (event, fn) => {\n      game.addListener(event, fn)\n\n      return instance\n    },\n    start: () => game.start(),\n    open: (x, y) => game.open(x, y),\n    flag: (x, y) => game.flag(x, y),\n    batch: (payload) => game.batch(payload),\n    getState: () => game.getState(),\n    reset: () => game.start()\n  }\n\n  return instance\n}\n\nexport const CHECKERS = CONFIG.CHECKERS\nexport const DEFAULTS = CONFIG.DEFAULTS\nexport const EVENTS = CONFIG.EVENTS\nexport const STATUS = CONFIG.STATUS\n\nexport default {\n  getInstance\n}\n","import * as Minefield from '../../main'\n\nexport default {\n  makeBoardMap: function () {\n    this.boardMap = {}\n    Object.keys(Minefield.CHECKERS).forEach(value => { this.boardMap[Minefield.CHECKERS[value]] = [] })\n\n    this.state.board.forEach(\n      (cols, row) => cols.forEach(\n        (value, col) => this.addMap(row, col, value)\n      )\n    )\n  },\n\n  addMap: function (row, col, value) {\n    const checker = {\n      row,\n      col,\n      value,\n      around: {}\n    }\n\n    this.calcAround(checker)\n    this.boardMap[value].push(checker)\n  },\n\n  calcAround: function (checker) {\n    const around = { out: 0 }\n    Object.keys(Minefield.CHECKERS).map((value) => { around[Minefield.CHECKERS[value]] = [] })\n\n    const { rows, cols } = this.state\n    if ((checker.row === 0 && (checker.col === 0 || checker.col === cols - 1)) ||\n    (checker.row === rows - 1 && (checker.col === 0 || checker.col === cols - 1))) {\n      around.out += 5\n    } else if (checker.row === 0 ||\n    checker.row === rows - 1 ||\n    checker.col === 0 ||\n    checker.col === cols - 1) {\n      around.out += 3\n    }\n\n    for (let row = checker.row - 1; row <= checker.row + 1; row++) {\n      for (let col = checker.col - 1; col <= checker.col + 1; col++) {\n        if (this.state.board[row] !== undefined && this.state.board[row][col] !== undefined) {\n          around[this.state.board[row][col]].push({ row, col })\n        }\n      }\n    }\n\n    checker.around = around\n  }\n}\n","import * as Minefield from '../../main'\n\nexport default {\n  calculateNextList: function () {\n    this.addAvailableFlag()\n    this.addAvailableOpen()\n    this.addRandOpen()\n    this.removeDuplication()\n  },\n\n  addAvailableFlag: function () {\n    Object\n      .keys(Minefield.CHECKERS)\n      .filter((key) => ![\n        Minefield.CHECKERS.EMPTY,\n        Minefield.CHECKERS.FLAG\n      ].includes(Minefield.CHECKERS[key])\n      ).forEach((key) => {\n        this.boardMap[Minefield.CHECKERS[key]].forEach(checker => {\n          if (checker.value === checker.around[Minefield.CHECKERS.EMPTY].length + checker.around[Minefield.CHECKERS.FLAG].length) {\n            const itens = checker.around[Minefield.CHECKERS.EMPTY]\n            itens.forEach(item => {\n              item.type = Minefield.CHECKERS.FLAG\n            })\n\n            this.nextList = [...this.nextList, ...itens]\n          }\n        })\n      })\n  },\n\n  addAvailableOpen: function () {\n    Object\n      .keys(Minefield.CHECKERS)\n      .filter((key) => ![\n        Minefield.CHECKERS.EMPTY,\n        Minefield.CHECKERS.FLAG\n      ].includes(Minefield.CHECKERS[key])\n      ).forEach((key) => {\n        this.boardMap[Minefield.CHECKERS[key]].forEach(checker => {\n          if (checker.value === checker.around[Minefield.CHECKERS.FLAG].length) {\n            const itens = checker.around[Minefield.CHECKERS.EMPTY]\n            itens.forEach(item => { item.origin = 'ADD_OPEN' })\n            this.nextList = [...this.nextList, ...itens]\n          }\n        })\n      })\n  },\n\n  addRandOpen: function () {\n    if (this.state.checked === 0 || this.nextList.length === 0) {\n      const rand = (size) => Math.floor(Math.random() * size)\n      const emptyCheckers = this.boardMap[Minefield.CHECKERS.EMPTY]\n\n      const checker = { origin: 'RANDOM', ...emptyCheckers[rand(emptyCheckers.length)] }\n      this.nextList.push(checker)\n    }\n  },\n\n  removeDuplication: function () {\n    this.nextList = this.nextList.filter((checker, i) => {\n      for (let j = i + 1; j < this.nextList.length; j++) {\n        if (checker.row === this.nextList[j].row && checker.col === this.nextList[j].col) {\n          return false\n        }\n      }\n\n      return true\n    })\n  }\n}\n","export const SPEED = {\n  NONE: -1,\n  FAST: 1000,\n  NORMAL: 2000,\n  SLOW: 4000\n}\n\nexport const PROCESS = {\n  BATCH: 'batch',\n  UNIT: 'unit'\n}\n","import { Observer } from '@lppjunior/pattern-js'\n\nimport * as Minefield from '../main'\nimport * as Modules from './modules'\nimport * as Constants from './constants'\n\nclass Bot {\n  constructor (options) {\n    Object.keys(options).forEach(key => {\n      this[key] = options[key]\n    })\n\n    if (this.speed !== Constants.SPEED.NONE) {\n      this.game.addListener(Minefield.EVENTS.ALL, (data) => {\n        this.autoRun(data)\n      }, this.speed)\n    }\n\n    this.observer = new Observer()\n    this.reset()\n  }\n\n  onFinish (fn) {\n    this.observer.on('onFinish', fn)\n  }\n\n  reset () {\n    this.nextList = []\n    this.stoped = false\n  }\n\n  autoRun (data) {\n    if (data.event === Minefield.EVENTS.START) {\n      this.reset()\n    }\n\n    if (!this.stoped) {\n      if (this.timeout) {\n        clearTimeout(this.timeout)\n      }\n\n      this.timeout = setTimeout(() => this.run(), this.speed)\n    }\n  }\n\n  play () {\n    this.stoped = false\n    this.run()\n\n    return this\n  }\n\n  stop () {\n    this.stoped = true\n  }\n\n  run () {\n    this.setState()\n    if (this.state.status === Minefield.STATUS.PLAYING) {\n      this.calculate()\n      this.open()\n    }\n\n    this.result()\n  }\n\n  calculate () {\n    if (this.nextList.length > 0) {\n      return\n    }\n\n    this.makeBoardMap()\n    this.calculateNextList()\n  }\n\n  result () {\n    if (this.state.status !== Minefield.STATUS.PLAYING) {\n      this.observer.emit('onFinish', this.state.status)\n    }\n  }\n\n  open () {\n    const checkers = (this.process === Constants.PROCESS.BATCH)\n      ? [].concat(this.nextList)\n      : [this.nextList.pop()]\n\n    if (this.process === Constants.PROCESS.BATCH) {\n      this.nextList = []\n    }\n\n    this.game.batch(checkers)\n  }\n\n  setState () {\n    this.state = this.game.getState()\n  }\n}\n\nObject.keys(Modules).forEach((key) => {\n  Object.keys(Modules[key]).forEach(action => {\n    Bot.prototype[action] = Modules[key][action]\n  })\n})\n\nexport default Bot\n","import Bot from './bot'\nimport * as Constants from './constants'\n\nexport function getInstance (options) {\n  const bot = new Bot(options)\n\n  return {\n    play: () => bot.play(),\n    stop: () => bot.stop(),\n    setSpeed: (speed) => { bot.speed = speed },\n    setProcess: (process) => { bot.process = process },\n    onFinish: (fn) => { bot.onFinish(fn) }\n  }\n}\n\nexport const SPEED = Constants.SPEED\nexport const PROCESS = Constants.PROCESS\n\nexport default {\n  getInstance\n}\n"],"sourceRoot":""}